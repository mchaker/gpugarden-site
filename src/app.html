<!doctype html>
<html lang="en">
	<head>
		<!-- External stylesheet for Geist font from Vercel -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/@vercel/fonts@latest/geist/stylesheet.css"
		/>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon-small.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- Open Graph metadata for social media sharing -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content="gpu.garden" />
		<meta
			property="og:description"
			content="gpu.garden is a cozy AI playground built for TouhouAI."
		/>
		<meta property="og:image" content="https://gpu.garden/favicon-small.png?v=2" />

		<!-- Twitter Card metadata for Twitter sharing -->
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:title" content="gpu.garden" />
		<meta
			name="twitter:description"
			content="gpu.garden is a cozy AI playground built for TouhouAI."
		/>
		<meta name="twitter:image" content="https://gpu.garden/favicon-small.png?v=2" />

		<!-- Add this CSS for dark mode fallback -->
		<style>
			/* Ensure dark mode works */
			@media (prefers-color-scheme: dark) {
				html:not(.light) {
					color-scheme: dark;
				}
			}
		</style>

		<!-- SvelteKit placeholder - explained below -->
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<!-- SvelteKit placeholder - explained below -->
		<div style="display: contents">%sveltekit.body%</div>

		<!-- Initialize theme immediately to prevent flash -->
		<script>
			// Prevent flash of wrong theme
			(function () {
				const savedTheme = localStorage.getItem("theme");
				const systemPrefersDark = window.matchMedia(
					"(prefers-color-scheme: dark)"
				).matches;
				const isDark = savedTheme ? savedTheme === "dark" : systemPrefersDark;

				if (isDark) {
					document.documentElement.classList.add("dark");
				} else {
					document.documentElement.classList.remove("dark");
				}
			})();
		</script>
	</body>
</html>